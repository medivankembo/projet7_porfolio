_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[65],{BuRe:function(e,t,r){"use strict";var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;t.a=function(e){return"string"===typeof e&&a.test(e)}},Ejiq:function(e,t,r){"use strict";r.r(t);var a,n=r("ODXe"),s=r("20a2"),o=r("q1tI"),c=r.n(o),i=r("9Koi"),u=r("/MKj"),f=r("BuRe"),l=r("CPRH"),d=r("CjCg"),m=r("SOA+"),p=r("+RGk"),b=r("LTRp"),w=r("o0o1"),O=r.n(w),j=r("HaE+"),g=r("NWhz"),h=r("NKCw"),S=r("vOnD"),E=r("UGp+"),v=r("jZWz"),C=r("dCQc"),P=function(){var e=Object(j.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.a.post("/forget-password",{email:t});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(j.a)(O.a.mark((function e(t){var r,a,n,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.password,a=t.uuid,n=t.token,e.next=3,C.a.put("/users/".concat(a,"/reset-password"),{password:r,token:n});case 3:return s=e.sent,e.abrupt("return",s.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=r("DFqO"),q=r("AaJB"),x=c.a.createElement,_=Object(S.d)(v.a).withConfig({componentId:"hqmrr4-0"})(["margin-bottom:20px;"]),I=E.d().shape({email:E.f().required().email()}).required(),T=Object(S.d)((function(e){var t=e.onSubmitSuccess,r=e.className,a=Object(i.a)(),s=Object(n.a)(a,1)[0],c=Object(h.e)({resolver:Object(g.a)(I)}),u=c.register,f=c.handleSubmit,l=c.errors,d=Object(o.useCallback)(f(function(){var e=Object(j.a)(O.a.mark((function e(r){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(r.email);case 2:t();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),[]);return x("form",{onSubmit:d,className:r},x(_,{ref:u,name:"email","data-ci-field":"email",label:s("form.forgotPassword.email.label"),type:"text",variant:"outlined",error:l.email}),x(q.a,{type:"submit",variant:k.b.CONTAINED,color:k.a.PRIMARY,label:s("form.forgotPassword.submit")}))})).withConfig({componentId:"hqmrr4-1"})([""]),N=r("JB2W"),y=r("RiPl"),F=Object(S.d)(N.a).withConfig({componentId:"sc-105qkdi-0"})(["font-size:14px;"]),z=Object(S.d)(y.j).withConfig({componentId:"sc-105qkdi-1"})(["font-size:14px;margin-top:0;"]),M=c.a.createElement,D=function(e){var t=e.instructions,r=e.children,a=Object(i.a)(),s=Object(n.a)(a,1)[0];return M(c.a.Fragment,null,M(z,null,t),M(z,null,s("page.resetPassword.login.label")," ",M(F,{tabIndex:"0",href:l.a.LOGIN},s("page.resetPassword.login.link"),".")),r)},G=c.a.createElement,A=function(e){var t=Object(i.a)(),r=Object(n.a)(t,1)[0];return G(D,{instructions:r("page.resetPassword.forgot.instructions")},G(T,e))},U=r("wx14"),B=r("fglV"),J=Object(S.d)(q.a).withConfig({componentId:"sc-1hzj7l3-0"})(["margin-top:20px;"]),W=(Object(S.d)(B.a).withConfig({componentId:"sc-1hzj7l3-1"})(["margin-bottom:20px;"]),Object(S.d)(v.a).withConfig({componentId:"sc-1hzj7l3-2"})(["margin-bottom:20px;"])),X=c.a.createElement,H=function(e){var t=e.onSubmitSuccess,r=e.initialValues,a=r.token,s=r.uuid,c=Object(i.a)(),u=Object(n.a)(c,1)[0],f=Object(o.useMemo)((function(){return E.d().shape({password:E.f().required(u("form.errors.required")).min(4,u("form.errors.min",{count:4})).matches(/^(?=.*[0-9])(?=.*[a-zA-Z]).*$/gm,u("form.errors.passwordRegex")),confirmPassword:E.f().required(u("form.errors.required")).oneOf([E.e("password")],u("form.errors.passwordMatch"))}).required()}),[]),l=Object(h.e)({resolver:Object(g.a)(f)}),d=l.register,m=l.handleSubmit,p=l.errors,b=(0,l.watch)("password",""),w=Object(o.useCallback)(m(function(){var e=Object(j.a)(O.a.mark((function e(r){var n,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.password,e.next=3,R({password:n,uuid:s,token:a});case 3:o=e.sent,t(o);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),[]);return X("form",{onSubmit:w},X(W,{ref:d,name:"password",label:u("form.resetPassword.password.label"),type:"password",variant:"outlined",error:p.password,customErrorMessage:!0}),X(B.a,{password:b}),X(W,{ref:d,name:"confirmPassword",label:u("form.resetPassword.confirmPassword.label"),type:"password",variant:"outlined",error:p.confirmPassword,customErrorMessage:!0}),X(J,{type:"submit",variant:k.b.CONTAINED,color:k.a.PRIMARY,label:u("form.resetPassword.submit")}))},K=c.a.createElement,V=function(e){var t=Object(s.useRouter)(),r=Object(i.a)(),a=Object(n.a)(r,1)[0];return K(D,{instructions:a("page.resetPassword.reset.instructions")},K(H,Object(U.a)({initialValues:{uuid:t.query.uuid,token:t.query.token}},e)))},Y=r("e7mD"),L=c.a.createElement,Z=function(){var e=Object(i.a)(),t=Object(n.a)(e,1)[0];return L(c.a.Fragment,null,L(Y.e,null,t("page.resetPassword.forgotSuccess.message")),L(Y.e,null,t("page.resetPassword.forgotSuccess.instructions")))},$=r("oq0k"),Q=r("kXR2"),ee=c.a.createElement;!function(e){e.FORGOT="forgot",e.RESET="reset",e.FORGOT_SUCCESS="forgot_success",e.RESET_SUCCESS="reset_success"}(a||(a={}));t.default=function(){Object($.a)();var e=Object(s.useRouter)(),t=Object(u.useDispatch)(),r=Object(i.a)(),w=Object(n.a)(r,1)[0],O=Object(o.useState)(),j=O[0],g=O[1],h=Object(o.useState)(function(e){var t=e.token,r=e.uuid;return Object(f.a)(r)&&!!t}(e.query)?a.RESET:a.FORGOT),S=h[0],E=h[1],v=Object(o.useCallback)((function(){return E(a.FORGOT_SUCCESS)}),[E]),C=Object(o.useCallback)((function(e){E(a.RESET_SUCCESS),g(e)}),[E,g]),P=Object(o.useMemo)((function(){return S===a.FORGOT_SUCCESS?ee(Z,null):S===a.RESET?ee(V,{onSubmitSuccess:C}):ee(A,{onSubmitSuccess:v})}),[S,v,C]);return j?ee(m.a,{to:l.a.HOME,isSuccess:!0,onTimeout:function(){return t(Object(Q.b)(j))},title:w("page.resetPassword.resetSuccess.title"),message:w("page.resetPassword.resetSuccess.message")}):ee(c.a.Fragment,null,ee(b.a,{title:w("page.resetPassword.meta.title")}),ee(p.a,{title:w("page.resetPassword.meta.title")},P,ee(d.a,null)))}},JB2W:function(e,t,r){"use strict";var a=r("Ff2n"),n=r("YFqc"),s=r.n(n),o=r("q1tI"),c=r.n(o),i=r("vOnD"),u=c.a.createElement,f=i.d.a.withConfig({componentId:"sc-1r0rqg-0"})(['color:#504dc1;text-decoration:none;font-family:"Nunito Sans",sans-serif;font-size:18px;&:hover{cursor:pointer;}']);t.a=function(e){var t=e.children,r=e.href,n=Object(a.a)(e,["children","href"]);return u(s.a,{href:r},u(f,n,t))}},"i+gh":function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reset-password",function(){return r("Ejiq")}])}},[["i+gh",2,1,34,0,3,4,5,6,7,8,14,15,18,19,21,36]]]);
//# sourceMappingURL=reset-password-13697eea8f481c616d07.js.map